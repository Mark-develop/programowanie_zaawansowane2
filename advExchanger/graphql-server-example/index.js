const { ApolloServer, gql } = require("apollo-server");

// ััะตะผะฐ - ััะพ ะบะพะปะปะตะบัะธั ัะธะฟะพะฒ (`typeDefs`),
// ะบะพัะพััะต ะพะฟัะตะดะตะปััั "ัะพัะผั" ะฒัะฟะพะปะฝัะตะผัั ะทะฐะฟัะพัะพะฒ
const typeDefs = gql`
  # ะัะธะผะตั ะบะพะผะผะตะฝัะฐัะธั

  # ะขะธะฟ "Book" ะพะฟัะตะดะตะปัะตั ะฟะพะปั, ะบะพัะพััะต ะผะพะถะฝะพ ะฟะพะปััะธัั ะดะปั ะบะฝะธะณะธ
  type User {
  login: String
  password: String
}

type ExhData {
  exchto: String
}

  # ะขะธะฟ "Query" ัะฒะปัะตััั ะพัะพะฑัะผ: ะฒ ะฝะตะผ ัะบะฐะทัะฒะฐัััั ะฒัะต ะทะฐะฟัะพัั, ะบะพัะพััะต
  # ะผะพะณัั ะฒัะฟะพะปะฝััััั ะบะปะธะตะฝัะพะผ, ะฐ ัะฐะบะถะต ัะธะฟ, ะฒะพะทะฒัะฐัะฐะตะผัะน ะทะฐะฟัะพัะพะผ. ะ ะดะฐะฝะฝะพะผ ัะปััะฐะต
  # ะทะฐะฟัะพั "books" ะฒะพะทะฒัะฐัะฐะตั ะผะฐััะธะฒ ะธะท 0 ะธะปะธ ะฑะพะปะตะต ะบะฝะธะณ
  type Query {
    user: [User],
    exhData: [ExhData]
  }
`;

const User = [
  {
    login: "Mark",
    password: "111",
  }
];

const ExhData = [
    {
    exchto: "PLN"
    }
  ];

const resolvers = {
  Query: {
    user: () => User,
    exhData: () => ExhData,
  },
};

// ะ ะบะพะฝััััะบัะพั ะกะตัะฒะตัะฐ ะฟะตัะตะดะฐะตััั 2 ะฐัะณัะผะตะฝัะฐ:
// ััะตะผะฐ ะธ ะฝะฐะฑะพั ัะตะทะพะปะฒะตัะพะฒ
const server = new ApolloServer({ typeDefs, resolvers })

// ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
server.listen().then(({ url }) => {
  console.log(`๐  ะกะตัะฒะตั ะทะฐะฟััะตะฝ ะฟะพ ะฐะดัะตัั: ${url}`)
})

